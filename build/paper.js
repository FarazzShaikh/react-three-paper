import n,{useRef as e,useState as t,useCallback as r,useEffect as c}from"react";const o={threshold:.01};function i({script:i,style:s,onExit:a,onEntry:l,onError:u}){const m=e(null),[h,f]=t(null),y=r((async(n,e)=>{try{const e=await n;f(e)}catch(n){e(n)}}),[]);return c((()=>{let n=0;if(null!==h){const{render:t,cleanup:r}=h;function e(r){t(r),n=requestAnimationFrame(e)}let c=new IntersectionObserver((([t])=>{const{isIntersecting:r}=t;r?(l&&l(t),n=requestAnimationFrame(e)):(a&&a(t),cancelAnimationFrame(n))}),o);return c.observe(m.current),()=>{c.disconnect(),r&&r()}}y(i(m.current),(e=>{console.error(e),cancelAnimationFrame(n),u&&u(e)}))}),[i,m,h]),n.createElement("canvas",{ref:m,style:{width:"100%",height:"100%",...s}})}export{i as Paper};
//# sourceMappingURL=paper.js.map
